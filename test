#!/bin/bash

###########################
#(C) Will Cunningham 2014 #
# Krioukov Research Group #
# Northeastern University #
###########################

#####################################
# These are experimental parameters #
#####################################

#./bin/CausalSet --nodes 24586 --age 1.5707577 --dim 1 --link --print --components
#./bin/CausalSet --nodes 65536 --age 0.8 --alpha 4.6784 --manifold f --verbose -y --link --gpu
#./bin/CausalSet --nodes 10240 --energy 0.7 --alpha 3 --seed 18100 --manifold f --verbose -y --link --gpu

# Validation Tests
#./bin/CausalSet --nodes 20480 --age 1.5 --seed 18100 --buffer 0.3 --link --embedding 100
#./bin/CausalSet --nodes 20480 --age 1.5 --seed 18100 --buffer 0.3 --link --gpu --distances 100
#./bin/CausalSet --nodes 10240 --energy 0.7 --alpha 2 --seed 18100 --manifold f --compact --link --gpu --distances 100

# Greedy Routing
./bin/CausalSet --nodes 10240 --energy 0.7 --alpha 3 --seed 18100 --manifold f --link --gpu --success 100

# Measure de Sitter Action
#./bin/CausalSet --graph 111 --age 1.2 --seed 18100 --buffer 0.3 --link --quiet-read --action 5
#for (( i=0; i<=1000; i++ )) ; do
#./bin/CausalSet --nodes 256 --age 1.2 --buffer 0.3 --verbose -y --action 5
#done
#./bin/CausalSet --nodes 32768 --age 1.2 --delta 201.3505 --seed 18100 --buffer 0.3 --verbose -y --link --gpu --action 5 --core 1

######################################
# These will reproduce known results #
######################################

# Generate causal set for 1+1 de Sitter (no matter)
#./bin/CausalSet --nodes 24586 --age 1.5707577 --dim 1 --seed 18100 --link --print
# Should find k = 5.53, gamma = 2

# Generate causal set for 3+1 de Sitter (no matter)
#./bin/CausalSet --nodes 25441 --age 1.5296963 --seed 18100 --buffer 0.3 --link --print
# Should find k = 5.29, gamma = 1.75

# Generate causal set for universe (mix of dark energy and matter)
#./bin/CausalSet --nodes 1000887 --age 0.8458 --alpha 2.01 --delta 10000 --seed 18100 --manifold f --compact --link --verbose -y --print &> causet.log &
# Should find k = 727, in-degree given by Fig. (S3), out-degree given by Fig. (3a)
# Note this takes ~ 3.5 days to run!!!

# Read hyperbolic graph data and perform greedy routing algorithm
#./bin/CausalSet --graph 321 --dim 1 --manifold h --seed 18100 --verbose -y --success 1
# Should find a success ratio of 1.0 and a single connected component

# Compare to Dima's Fortran Code
# Make sure to manually alter parameters in fortran code and re-compile!
#./bin/CausalSet --graph 22222 --nodes 10240 --age 1.5 --delta 1 --manifold f --compact --link --gpu --components
#./etc/dk_stats_direct.pl 22222
