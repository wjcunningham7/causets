# Causal Set Generator

## Overview
This repository contains the CausalSet software package. This software is intended to be used to generate and study causal sets from both the quantum gravity and random geometric graph perspectives. Source code is in the src and inc directories, with the main method located at the top of src/Causet.cu.  All data structures are defined in inc/Causet.h and inc/Spacetime.h. Causal set initialization and construction methods are in src/NetworkCreator.cu and src/NetworkCreator_GPU.cu. Lower-level algorithms and mathematical functions are respectively found in src/Subroutines.cu and inc/Operations.h. Certain specific mathematical functions have earned a place in their own files, such as inc/Coordinates.h for element coordinate sampling and inc/Geodesics.h for (continuum) geodesic distance calculations. The file src/Validate.cu contains alternate implementations of certain functions along with useful printing methods for debugging. The etc directory contains some python scripts which are useful for analyzing the output files generated by the CausalSet binary.

## Compilation and Installation
### Preparation
0. Ensure your gcc/g++ version is at least 4.8.1.
1. Ensure you have [Boost](https://www.boost.org) version 1.55.0 or newer.
2. Ensure you have GSL version 1.13 or newer.
3. If your CPU supports AVX2 instructions, ensure your assembler version is 2.24 or newer.
4. If you want to use a GPU, ensure it is from NVIDIA and has a compute capability of at least 3.0. Then, update CUDA_ARCH in the file .causet.
5. If you are using MPI, it must be Platform MPI
6. Install the **FastMath** library, which can be found on [Bitbucket](https://bitbucket.org/dk-lab/2015_code_fastmath).
7. Export the environment variable PLATFORM=$HOST. If you are running on a cluster, set PLATFORM to equal the name of the queue.

### Installation
`cp .causet $HOME`  
`sh ./bootstrap.sh`  
`./configure (--enable-cuda --enable-mpi) --prefix=install_dir`  
`make`  
`make install`  

### Cleanup
This will remove all files created during installation:  
`make distclean`

## Usage
To see a full set of supported flags, execute  
`./bin/CausalSet_$PLATFORM --help`  

To create a causal set sprinkled into de Sitter:  
`./bin/CausalSet_$PLATFORM --type rgg --stdim 2 --manifold De_Sitter --region Slab --curvature Positive --symmetry None --nodes 2048 --age 0.5 --link --action smeared --print --print-edges --verbose`  

To study antichains in a previously generated causal set:  
`graphs=($(awk '{print $1}' $CAUSET_HOME/etc/data_keys.cset.key))`  
`./bin/CausalSet_$PLATFORM --graph ${graphs[0]} --type rgg --stdim 2 --manifold De_Sitter --region Slab --curvature Positive --symmetry None --nodes 2048 --age 0.5 --link --nopos --antichain --print --verbose`

## Supported Causal Sets
0. Random Partial Orders
1. Kleitman-Rothschild Partial Orders
2. Random Geometric Graphs (Geometric Sprinklings), determined by
    a. Spacetime Dimension (2,3,4,5)
    b. Manifold (Minkowski, de Sitter, etc.)
    c. Bounding Region (Slab, Diamond, etc.)
    d. Spatial Curvature (Flat, Positive, Negative)
    e. Symmetries (Temporal: t=[-t0,t0]; None: t=[0,t0])

A complete list of RGG spacetimes may be viewed at the end of the file VERSION. This file may be updated by using the bash script etc/spacetimes. 

## Measuring Properties
The C code lets you measure the following:  

0. Graph clustering coefficients (local prescription)
1. Number and size of connected components
2. Success ratio and/or stretch using greedy routing
3. Smeared and local Benincasa-Dowker action
4. Chain lengths and causet height
5. Maximal antichain widths
6. Hub density
7. Geodesic distances (in the continuum)
8. Timelike and spacelike partitions
9. Myrheim-Meyer dimension
10. Entanglement entropy (COMING SOON)
11. Generate a Markov chain using Metropolis sampling
12. Timelike boundary geometry (under revision)

In addition, the Python code can measure

0. The action, provided a list of interval abundances
1. The mean clustering and clustering distribution
2. The distribution of connected components
3. The mean degree and degree distribution
4. The mean number of geodesically disconnected pairs of elements
5. The mean time of the earliest element, used to study sampling accuracy
6. The mean number of elements
7. The mean stretch and success ratio

## Maintenance
Contact <wjcunningham7@gmail.com> to report bugs or get help.  

&copy; Will Cunningham 2013-2020
